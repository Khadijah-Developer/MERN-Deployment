{"ast":null,"code":"var _jsxFileName = \"/Users/kadojali/Desktop/test/client/src/components/EditPet.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport { useParams, useNavigate } from \"react-router-dom\";\nimport { Link } from \"react-router-dom\";\nimport PetForm from \"./PetForm\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst EditPet = () => {\n  _s();\n\n  //useState\n  const [pet, setPet] = useState({\n    name: \"\",\n    type: \"\",\n    description: \"\",\n    skillOne: \"\",\n    skillTwo: \"\",\n    skillThree: \"\"\n  });\n  const [petUpdated, setPetUpdated] = useState(false);\n  const [isIdExist, setIsIdExist] = React.useState(true);\n  const [errors, setErrors] = useState([]);\n  const [isLoading, setLoading] = useState(false);\n  const navigate = useNavigate(); //Methods\n\n  const handleChange = event => {\n    setPet({ ...pet,\n      [event.target.name]: event.target.value\n    });\n  };\n\n  const {\n    id\n  } = useParams();\n  useEffect(() => {\n    setLoading(true);\n    axios.get(`http://localhost:8000/api/pet/${id}`).then(res => {\n      console.log(\"pet\", res);\n      setPet(res.data.pet);\n      setLoading(false);\n    }).catch(err => {\n      console.log(\"We have an error\"); //navigate(\"/\");\n\n      setIsIdExist(false);\n      setLoading(false);\n    });\n  }, []);\n\n  const handleSubmit = event => {\n    event.preventDefault();\n    setPetUpdated(false);\n    setErrors([]);\n    axios.put(\"http://localhost:8000/api/pet/update/\" + id, pet).then(response => {\n      setPetUpdated(true);\n    }).catch(err => {\n      console.log(err);\n      const data = err.response.data;\n      const errorMessages = [];\n\n      if (\"errors\" in data) {\n        for (let field in data.errors) {\n          const validationError = data.errors[field];\n          errorMessages.push(validationError.message);\n        }\n      }\n\n      setErrors(errorMessages);\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container mt-5 p-1\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"d-flex justify-content-between\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"display-4\",\n        children: \"Pet Shelter\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/home\",\n          className: \"btn btn-outline-dark m-2\",\n          children: \"Back to Home\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n      className: \"text-left\",\n      children: [\"Edit \", pet.name, \" \"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 13\n    }, this), errors.map((errorMessage, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"alert alert-danger\",\n      children: [\"Error: \", errorMessage]\n    }, index, true, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 11\n    }, this)), petUpdated && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"alert alert-success\",\n      children: \"User has been successfully created\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 11\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"row border\",\n      children: /*#__PURE__*/_jsxDEV(PetForm, {\n        pet: pet,\n        handleChange: handleChange,\n        handleSubmit: handleSubmit\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 74,\n    columnNumber: 7\n  }, this);\n};\n\n_s(EditPet, \"EleRLfa35tQicnCHkbmb2JQUpDo=\", false, function () {\n  return [useNavigate, useParams];\n});\n\n_c = EditPet;\nexport default EditPet;\n\nvar _c;\n\n$RefreshReg$(_c, \"EditPet\");","map":{"version":3,"names":["React","useEffect","useState","axios","useParams","useNavigate","Link","PetForm","EditPet","pet","setPet","name","type","description","skillOne","skillTwo","skillThree","petUpdated","setPetUpdated","isIdExist","setIsIdExist","errors","setErrors","isLoading","setLoading","navigate","handleChange","event","target","value","id","get","then","res","console","log","data","catch","err","handleSubmit","preventDefault","put","response","errorMessages","field","validationError","push","message","map","errorMessage","index"],"sources":["/Users/kadojali/Desktop/test/client/src/components/EditPet.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport { useParams, useNavigate } from \"react-router-dom\";\nimport { Link } from \"react-router-dom\";\nimport PetForm from \"./PetForm\";\n\nconst EditPet = () => {\n  //useState\n   const [pet, setPet] = useState({\n     name: \"\",\n     type: \"\",\n     description: \"\",\n     skillOne: \"\",\n     skillTwo: \"\",\n     skillThree: \"\",\n   });\n  const [petUpdated, setPetUpdated] = useState(false);\n  const [isIdExist, setIsIdExist] = React.useState(true);\n\n  const [errors, setErrors] = useState([]);\n\n    const [isLoading, setLoading] = useState(false);\n      const navigate = useNavigate();\n\n  //Methods\n  const handleChange = (event) => {\n    setPet({ ...pet, [event.target.name]: event.target.value });\n  };\n    \n    const { id } = useParams();\n    useEffect(() => {\n      setLoading(true);\n      axios\n        .get(`http://localhost:8000/api/pet/${id}`)\n        .then((res) => {\n          console.log(\"pet\",res);\n           setPet(res.data.pet);\n          setLoading(false);\n        })\n        .catch((err) => {\n          console.log(\"We have an error\");\n          //navigate(\"/\");\n          setIsIdExist(false);\n          setLoading(false);\n        });\n    }, []);\n\n    const handleSubmit = (event) => {\n      event.preventDefault();\n      setPetUpdated(false);\n      setErrors([]);\n      axios\n        .put(\"http://localhost:8000/api/pet/update/\" + id, pet)\n        .then((response) => {\n          setPetUpdated(true);\n        })\n        .catch((err) => {\n          console.log(err);\n          const data = err.response.data;\n          const errorMessages = [];\n          if (\"errors\" in data) {\n            for (let field in data.errors) {\n              const validationError = data.errors[field];\n              errorMessages.push(validationError.message);\n            }\n          }\n          setErrors(errorMessages);\n        });\n\n    };\n\n\n    return (\n      <div className=\"container mt-5 p-1\">\n        <div className=\"d-flex justify-content-between\">\n          <h1 className=\"display-4\">Pet Shelter</h1>\n          <div>\n            <Link to=\"/home\" className=\"btn btn-outline-dark m-2\">\n              Back to Home\n            </Link>\n          </div>\n        </div>\n            <h3 className=\"text-left\">Edit {pet.name} </h3>\n        {errors.map((errorMessage, index) => (\n          <div key={index} className=\"alert alert-danger\">\n            Error: {errorMessage}\n          </div>\n        ))}\n        {petUpdated && (\n          <div className=\"alert alert-success\">\n            User has been successfully created\n          </div>\n        )}\n        <div className=\"row border\">\n          <PetForm\n            pet={pet}\n            handleChange={handleChange}\n            handleSubmit={handleSubmit}\n          />\n        </div>\n      </div>\n    );\n};\n\nexport default EditPet;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}