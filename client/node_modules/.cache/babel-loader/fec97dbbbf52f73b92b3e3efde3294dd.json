{"ast":null,"code":"import _slicedToArray from\"/Users/kadojali/Desktop/Projects/w14/Day01/test/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from\"react\";import axios from\"axios\";import{useParams,useNavigate,Link}from\"react-router-dom\";import io from\"socket.io-client\";import DeleteButton from\"./DeleteButton\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var socket=io.connect(\":8000\");var ViewPet=function ViewPet(){var _useState=useState({name:\"\",type:\"\",description:\"\",skillOne:\"\",skillTwo:\"\",skillThree:\"\",1:{opName:\"\",value:0}}),_useState2=_slicedToArray(_useState,2),pet=_useState2[0],setPet=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),isLoading=_useState4[0],setLoading=_useState4[1];var _useParams=useParams(),id=_useParams.id;useEffect(function(){setLoading(true);axios.get(\"http://localhost:8000/api/pet/\".concat(id)).then(function(res){console.log(\"pet\",res);setPet(res.data.pet);setLoading(false);}).catch(function(err){console.log(\"We have an error\");//navigate(\"/\");\nsetLoading(false);});},[]);var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),pets=_useState6[0],setPets=_useState6[1];useEffect(function(){axios.get(\"http://localhost:8000/api/pets/\").then(function(res){console.log(res);setPets(res.data.pets);}).catch(function(err){return console.error(err);});},[]);var removeFromDom=function removeFromDom(petId){setPets(pets.filter(function(pet){return pet._id!==petId;}));};var _useState7=useState(0),_useState8=_slicedToArray(_useState7,2),likes=_useState8[0],setLikes=_useState8[1];// Include a button to like a pet, disable it when clicked until the component reloads\nvar handleLikes=function handleLikes(e){setLikes(likes+1);e.currentTarget.disabled=true;};return/*#__PURE__*/_jsxs(\"div\",{className:\"container mt-5 p-2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex justify-content-between\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"display-4\",children:\"Pet Shelter\"}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(Link,{to:\"/\",className:\"btn btn-outline-dark m-2\",children:\"Back to Home\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex justify-content-between\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"\",children:\"Details about:\"}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(DeleteButton,{pet:pet,petId:pet._id,successCallback:function successCallback(){return removeFromDom(pet._id);}})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"row border border-dark m-1 p-5\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"col\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Type:\"}),/*#__PURE__*/_jsx(\"h4\",{children:\"Description:\"}),/*#__PURE__*/_jsx(\"h4\",{children:\"Skills\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col\",children:[/*#__PURE__*/_jsxs(\"h4\",{children:[\" \",pet.type]}),/*#__PURE__*/_jsx(\"h4\",{children:pet.description}),/*#__PURE__*/_jsx(\"h4\",{children:pet.skillOne}),/*#__PURE__*/_jsx(\"h4\",{children:pet.skillTwo}),/*#__PURE__*/_jsx(\"h4\",{children:pet.skillThree})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex justify-content-evenly\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary m-2\",onClick:handleLikes,children:\"Like\"}),/*#__PURE__*/_jsxs(\"h5\",{className:\"m-2\",children:[\" \",likes,\" Likes\"]})]})]})]});};export default ViewPet;","map":{"version":3,"names":["React","useState","useEffect","axios","useParams","useNavigate","Link","io","DeleteButton","socket","connect","ViewPet","name","type","description","skillOne","skillTwo","skillThree","opName","value","pet","setPet","isLoading","setLoading","id","get","then","res","console","log","data","catch","err","pets","setPets","error","removeFromDom","petId","filter","_id","likes","setLikes","handleLikes","e","currentTarget","disabled"],"sources":["/Users/kadojali/Desktop/Projects/w14/Day01/test/client/src/components/ViewPet.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport { useParams, useNavigate, Link } from \"react-router-dom\";\nimport io from \"socket.io-client\";\nimport DeleteButton from \"./DeleteButton\";\nconst socket = io.connect(\":8000\");\n\nconst ViewPet = () => {\n  const [pet, setPet] = useState({\n    name: \"\",\n    type: \"\",\n    description: \"\",\n    skillOne: \"\",\n    skillTwo: \"\",\n    skillThree: \"\",\n    1: { opName: \"\", value: 0 },\n  });\n  const [isLoading, setLoading] = useState(false);\n  const { id } = useParams();\n  useEffect(() => {\n    setLoading(true);\n    axios\n      .get(`http://localhost:8000/api/pet/${id}`)\n      .then((res) => {\n        console.log(\"pet\", res);\n        setPet(res.data.pet);\n        setLoading(false);\n      })\n      .catch((err) => {\n        console.log(\"We have an error\");\n        //navigate(\"/\");\n        setLoading(false);\n      });\n  }, []);\n  const [pets, setPets] = useState([]);\n\n  useEffect(() => {\n    axios\n      .get(\"http://localhost:8000/api/pets/\")\n      .then((res) => {\n        console.log(res);\n        setPets(res.data.pets);\n      })\n      .catch((err) => console.error(err));\n  }, []);\n  const removeFromDom = (petId) => {\n    setPets(pets.filter((pet) => pet._id !== petId));\n  };\n\n  const [likes, setLikes] = useState(0);\n\n  // Include a button to like a pet, disable it when clicked until the component reloads\n  const handleLikes = (e) => {\n    setLikes(likes + 1);\n    e.currentTarget.disabled = true;\n  };\n  return (\n    <div className=\"container mt-5 p-2\">\n      <div className=\"d-flex justify-content-between\">\n        <h1 className=\"display-4\">Pet Shelter</h1>\n        <div>\n          <Link to=\"/\" className=\"btn btn-outline-dark m-2\">\n            Back to Home\n          </Link>\n        </div>\n      </div>\n      <div className=\"d-flex justify-content-between\">\n        <h1 className=\"\">Details about:</h1>\n        <div>\n          <DeleteButton\n            pet={pet}\n            petId={pet._id}\n            successCallback={() => removeFromDom(pet._id)}\n          />\n        </div>\n      </div>\n      <div className=\"row border border-dark m-1 p-5\">\n        <div className=\"col\">\n          <h4>Type:</h4>\n          <h4>Description:</h4>\n          <h4>Skills</h4>\n        </div>\n        <div className=\"col\">\n          <h4> {pet.type}</h4>\n          <h4>{pet.description}</h4>\n          <h4>{pet.skillOne}</h4>\n          <h4>{pet.skillTwo}</h4>\n          <h4>{pet.skillThree}</h4>\n        </div>\n        <div className=\"d-flex justify-content-evenly\">\n          <button className=\"btn btn-primary m-2\" onClick={handleLikes}>\n            Like\n          </button>\n          <h5 className=\"m-2\"> {likes} Likes</h5>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default ViewPet;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}